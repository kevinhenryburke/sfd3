<aura:component implements="forceCommunity:availableForAllPageTypes" controller="DThree">

CHANGED 27


<!--
<ltng:require 
  styles="/resource/pictorcss"
  scripts="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js"
  afterScriptsLoaded="{!c.afterScriptsLoaded}"
/>
-->


<ltng:require 
  styles="/resource/pictorcss"
  scripts="/resource/d3minjs"
  afterScriptsLoaded="{!c.afterScriptsLoaded}"
/>

<!-- if ever need to add a second script then use join syntax
  scripts="{!join(',',$Resource.jq331,$Resource.d3minjs)}"
-->

<!--
<ltng:require 
  styles="/resource/pictorcss"
  scripts="{!join(',',$Resource.d3minjs,$Resource.pictorjs)}"
  afterScriptsLoaded="{!c.afterScriptsLoaded}"
/>
-->

<!-- attribute types: 
  https://developer.salesforce.com/docs/atlas.en-us.lightning.meta/lightning/ref_aura_attribute.htm

-->

  <aura:registerEvent name="evt_sfd3" type="c:evt_sfd3"/>
  <aura:handler event="c:evt_sfd3" action="{!c.handle_evt_sfd3}"/>
  
  <!-- Design Paramters Panel -->
  <aura:attribute name="card1" type="String" default="No node selected"/>    
  <aura:attribute name="card2" type="String" default=""/>    
  <aura:attribute name="card3" type="String" default=""/>    
  <aura:attribute name="card4" type="String" default=""/>    
  <aura:attribute name="cardSelected" type="Boolean" default="false"/>    
	<aura:attribute name="maxlevels" type="Integer" default="4"/>    

  <!-- Technical - Panel -->
	<aura:attribute name="initialPrimaryId" type="String"/> 
  

  <!-- Design Paramters -->  
  <aura:attribute name="primaryNodeInitialization" type="String" default="FirstInData" description="RecordId, FirstInData"/>    
	<aura:attribute name="primaryNodeHighlightingOn" type="Boolean" default="true" description="Determines if selected node should be highlighted"/>    
	<aura:attribute name="primaryNodeHighlightingColour" type="String" default="gold" description="Name of the colour of highlighed node"/>    
	<aura:attribute name="primaryNodeHighlightingRadius" type="String" default="10px" description="Determines width of highlighting on a selected node"/>      
  <aura:attribute name="retainNodeDetalsMouseOut" type="Boolean" default="true"/>    
  <aura:attribute name="showPathToolTip" type="Boolean" default="true"/>    

  <!-- Technical - Chart -->
  <aura:attribute name="currentmeasure" type="String"/>    
	<aura:attribute name="chartPrimaryId" type="String"/> 
	<aura:attribute name="showlevels" type="Integer" default="1"/>    

	<aura:attribute name="initialized" type="Boolean" default="false"/>    
	<aura:attribute name="isiOS" type="Boolean" default="false"/>    
	<aura:attribute name="circlestrokewidth" type="String" default="0.5px"/>    
  <aura:attribute name="datajson" type="Object" />
  <aura:attribute name="configjson" type="Object" />
  
  <aura:attribute name="sfd3force" type="Object" />
  <aura:attribute name="text" type="Object" />
  <aura:attribute name="sfd3nodes" type="Object" />
  <aura:attribute name="sfd3paths" type="Object" />

  <aura:attribute name="clickedfilters" type="Object[]" default="[]" />
  
  <aura:attribute name="svg" type="Object" />
  <aura:attribute name="width" type="Double" />
  <aura:attribute name="height" type="Double" />
  <aura:attribute name="lastTouch" type="DateTime" />
  
  <!-- TODO - add
    Tooltip Transistion Duration

  -->

<!--    
	<aura:handler name="buttonDynamicEvent" event="c:buttonDynamicEvent" action="{!c.handleComponentEventFired}"/>    
-->


    <div class="slds">
      <div class="slds-page-header" role="banner">
        <div class="slds-media">
          <div class="slds-media__figure">
            <lightning:icon iconName="action:approval" size="large" alternativeText="Connections"/>
          </div>
          <div class="slds-media__body">
            <div class="slds-grid">
              <h1 class="slds-text-heading_medium slds-m-right_small slds-truncate slds-align-middle" title="Record Title">Connections</h1>
            </div>
          </div>
        </div>

        <div class="slds-grid slds-wrap">
          <!-- Hidden for topic connections -->
          <div class="slds-col slds-size_1-of-2 slds-small-size_1-of-2 slds-medium-size_1-of-3" style="display:none;">
            <h1 class="slds-text-heading_label">Types</h1>
            <div class="slds slds-button-group" role="group">
                <c:buttonDynamic aura:id="b1" label="" class="slds-button slds-button_brand" onclick="{!c.handleRelationshipTypeB1}"/>
                <c:buttonDynamic aura:id="b2" label="" class="slds-button slds-button_brand" onclick="{!c.handleRelationshipTypeB2}"/>
                <c:buttonDynamic aura:id="b3" label="" class="slds-button slds-button_brand" onclick="{!c.handleRelationshipTypeB3}"/>
                <c:buttonDynamic aura:id="b4" label="" class="slds-button slds-button_brand" onclick="{!c.handleRelationshipTypeB4}"/>
                <c:buttonDynamic aura:id="b5" label="" class="slds-button slds-button_brand" onclick="{!c.handleRelationshipTypeB5}"/>
            </div>
          </div>
          <div class="slds-col slds-size_1-of-2 slds-small-size_1-of-2 slds-medium-size_1-of-2">
            <h1 class="slds-text-heading_label">Show</h1>
            <div class="slds slds-button-group" role="group">
              <c:buttonDynamic aura:id="less" label="Fewer" class="slds-button slds-button_neutral" onclick="{!c.onClickLevelFewer}" disabled="true">Less</c:buttonDynamic>
              <c:buttonDynamic aura:id="more" label="More" class="slds-button slds-button_neutral" onclick="{!c.onClickLevelMore}" disabled="false">More</c:buttonDynamic>
            </div>
          </div>
          <div class="slds-col slds-size_1-of-2 slds-small-size_1-of-2 slds-medium-size_1-of-2">
            <h1 class="slds-text-heading_label">Size By</h1>
            <div class="slds slds-button-group" role="group">
                <c:buttonDynamic aura:id="v1" label="" class="slds-button slds-button_brand" onclick="{!c.onClickMeasureV1}"/>
                <c:buttonDynamic aura:id="v2" label="" class="slds-button slds-button_neutral" onclick="{!c.onClickMeasureV2}"/>
                <c:buttonDynamic aura:id="v3" label="" class="slds-button slds-button_neutral" onclick="{!c.onClickMeasureV3}"/>
                <c:buttonDynamic aura:id="v4" label="" class="slds-button slds-button_neutral" onclick="{!c.onClickMeasureV4}"/>
                <c:buttonDynamic aura:id="v5" label="" class="slds-button slds-button_neutral" onclick="{!c.onClickMeasureV5}"/>
            </div>
          </div>
        </div>
      </div>
    </div>
    

  <lightning:card aura:id="detailcard" title="Selected Node" iconName="standard:account">
      <div class="c-container">
          <lightning:layout horizontalAlign="space">
              <lightning:layoutItem flexibility="auto" padding="around-small">
                  <a href = "" onclick = "{!c.navigateToRecord}">{!v.card1}</a>
              </lightning:layoutItem>
              <lightning:layoutItem flexibility="auto" padding="around-small">
                  {!v.card2}
              </lightning:layoutItem>
              <lightning:layoutItem flexibility="auto" padding="around-small">
                  {!v.card3}
              </lightning:layoutItem>
              <!--
              <lightning:layoutItem flexibility="auto" padding="around-small">
                <aura:if isTrue="{!v.cardSelected}">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/4/4f/Anna_Netrebko_-_Romy_2013_a.jpg" height="60" width="60" alt="No image available" align="centre"></img>
                </aura:if>
              </lightning:layoutItem>
            -->

          </lightning:layout>
      </div>
      </lightning:card>  

  <body>
    <div id="chartarea" class="chartarea">
      <div id="nodeToolTip" class="nodeToolTip"></div>
      <div id="pathToolTip" class="pathToolTip"></div>
    </div>
  </body>
</aura:component>